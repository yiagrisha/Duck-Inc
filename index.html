<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Duck Inc.</title>
    <link rel="icon" type="image/png" href="images/favicon-inverted.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/colors.css" />
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/settings.css" />
    <link rel="stylesheet" href="css/layout.css" />
    <link rel="stylesheet" href="css/ids.css" />
    <link rel="stylesheet" href="css/gallery.css" />
    <link rel="stylesheet" href="css/navbar.css" />
  </head>

  <body class="ids">
    <header>
      <p>Duck Inc.</p>
      <div>
        <a href="#productBlock">
          <span class="text top">
            <span>P</span>
            <span>r</span>
            <span>o</span>
            <span>d</span>
            <span>u</span>
            <span>c</span>
            <span>t</span>
            <span>s</span>
          </span>
          <span class="text bottom">
            <span>P</span>
            <span>r</span>
            <span>o</span>
            <span>d</span>
            <span>u</span>
            <span>c</span>
            <span>t</span>
            <span>s</span>
          </span>
        </a>
        <a href="#thirdBlock">
          <span class="text top">
            <span>P</span>
            <span>o</span>
            <span>s</span>
            <span>t</span>
            <span>e</span>
            <span>r</span>
            <span>s</span>
          </span>
          <span class="text bottom">
            <span>P</span>
            <span>o</span>
            <span>s</span>
            <span>t</span>
            <span>e</span>
            <span>r</span>
            <span>s</span>
          </span>
        </a>
        <a href="#fourthBlock">
          <span class="text top">
            <span>A</span>
            <span>b</span>
            <span>o</span>
            <span>u</span>
            <span>t</span>
          </span>
          <span class="text bottom">
            <span>A</span>
            <span>b</span>
            <span>o</span>
            <span>u</span>
            <span>t</span>
          </span>
        </a>
      </div>
 
    </header>

    <main>
      <div class="ids__wrapper.XXL full-screen" id="firstBlock">
        <span>
          <h1>NUTRITION</h1>
          <h1>GROWTH</h1>
          <h1>CARE</h1>
          <h1>WELLBEING</h1>
          <p>Premium food</p>
          <p>crafted for the birds<br>that bring joy to every pond.</p>
        </span>
      </div>

      <div class="ids__wrapper full-screen" id="secondBlock">
        <div class="ids__space XL"></div>
        <div class="ids__text-width">
          <h1>Nutrition that speaks their language.</h1>
          <p>From ducklings to seniors, every formula is built to match real duck diets — fish, grains, insects, and greens.</p>
        </div>
        <div class="images">
          <img src="./images/illustrations/gray.png" alt="">
          <img src="./images/illustrations/white.png" alt="">
          <img src="./images/illustrations/ogar.png" alt="">
          <img src="./images/illustrations/green.png" alt="">
        </div>
        <div class="ids__space XL"></div>
      </div>

    <div class="ids__wrapper.XXL full-screen" id="fourthBlock">
        <p>Designed for Ducks. Built for Joy.</p>
        <h1>Duck Inc. was founded with a simple belief: ducks deserve the same care and attention as any pet. Our food is developed with nutritionists, our design with love, and our mission with humor.</h1>
    </div>

    <div class="ids__wrapper.XXL full-screen" id="productBlock">
      <div class="ids__space XL"></div>
      
        <h1>Check out<br>our product section.</h1>
        <div id="carousel">
          <section>
            <img src="images/Mockups/gray.png" alt="">
            <p>Trout &<br>Water Insects</p>

            <section>
              <button>
                <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 19C0 17.8954 0.895431 17 2 17H36C37.1046 17 38 17.8954 38 19C38 20.1046 37.1046 21 36 21H2C0.89543 21 0 20.1046 0 19Z"/>
                </svg>
              </button>
              <p>0</p>
              <button>
                <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_14_68)">   
                <path d="M19 0C20.1046 4.82823e-08 21 0.895431 21 2V17H36C37.1046 17 38 17.8954 38 19C38 20.1046 37.1046 21 36 21H21V36C21 37.1046 20.1046 38 19 38C17.8954 38 17 37.1046 17 36V21H2C0.895431 21 0 20.1046 0 19C0 17.8954 0.895431 17 2 17H17V2C17 0.895431 17.8954 -4.82823e-08 19 0Z"/>
                </g>
                </svg>
              </button>
            </section>
          </section>
          <section>
            <img src="images/Mockups/white.png" alt="">
            <p>Peas &<br>Barley</p>
            
            <section>
              <button>
                <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 19C0 17.8954 0.895431 17 2 17H36C37.1046 17 38 17.8954 38 19C38 20.1046 37.1046 21 36 21H2C0.89543 21 0 20.1046 0 19Z"/>
                </svg>
              </button>
              <p>0</p>
              <button>
                <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_14_68)">   
                <path d="M19 0C20.1046 4.82823e-08 21 0.895431 21 2V17H36C37.1046 17 38 17.8954 38 19C38 20.1046 37.1046 21 36 21H21V36C21 37.1046 20.1046 38 19 38C17.8954 38 17 37.1046 17 36V21H2C0.895431 21 0 20.1046 0 19C0 17.8954 0.895431 17 2 17H17V2C17 0.895431 17.8954 -4.82823e-08 19 0Z"/>
                </g>
                </svg>
              </button>
            </section>
          </section>
          <section><img src="images/Mockups/green.png" alt="">
            <p>Spinach &<br>River Fish</p>
            
            <section>
              <button>
                <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 19C0 17.8954 0.895431 17 2 17H36C37.1046 17 38 17.8954 38 19C38 20.1046 37.1046 21 36 21H2C0.89543 21 0 20.1046 0 19Z"/>
                </svg>
              </button>
              <p>0</p>
              <button>
                <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_14_68)">   
                <path d="M19 0C20.1046 4.82823e-08 21 0.895431 21 2V17H36C37.1046 17 38 17.8954 38 19C38 20.1046 37.1046 21 36 21H21V36C21 37.1046 20.1046 38 19 38C17.8954 38 17 37.1046 17 36V21H2C0.895431 21 0 20.1046 0 19C0 17.8954 0.895431 17 2 17H17V2C17 0.895431 17.8954 -4.82823e-08 19 0Z"/>
                </g>
                </svg>
              </button>
            </section>
          </section>
          <section>
            <img src="images/Mockups/ogar.png" alt="">
            <p>Shrimp &<br>Lake Fish</p>
            <section>
              <button>
                <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 19C0 17.8954 0.895431 17 2 17H36C37.1046 17 38 17.8954 38 19C38 20.1046 37.1046 21 36 21H2C0.89543 21 0 20.1046 0 19Z"/>
                </svg>
              </button>
              <p>0</p>
              <button>
                <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_14_68)">   
                <path d="M19 0C20.1046 4.82823e-08 21 0.895431 21 2V17H36C37.1046 17 38 17.8954 38 19C38 20.1046 37.1046 21 36 21H21V36C21 37.1046 20.1046 38 19 38C17.8954 38 17 37.1046 17 36V21H2C0.895431 21 0 20.1046 0 19C0 17.8954 0.895431 17 2 17H17V2C17 0.895431 17.8954 -4.82823e-08 19 0Z"/>
                </g>
                </svg>
              </button>
            </section>
          </section>
          <section>
            <img src="images/Mockups/duckling.png" alt="">
            <p>Corn &<br>Mealworms</p>
            <section>
              <button>
                <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 19C0 17.8954 0.895431 17 2 17H36C37.1046 17 38 17.8954 38 19C38 20.1046 37.1046 21 36 21H2C0.89543 21 0 20.1046 0 19Z"/>
                </svg>
              </button>
              <p>0</p>
              <button>
                <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_14_68)">   
                <path d="M19 0C20.1046 4.82823e-08 21 0.895431 21 2V17H36C37.1046 17 38 17.8954 38 19C38 20.1046 37.1046 21 36 21H21V36C21 37.1046 20.1046 38 19 38C17.8954 38 17 37.1046 17 36V21H2C0.895431 21 0 20.1046 0 19C0 17.8954 0.895431 17 2 17H17V2C17 0.895431 17.8954 -4.82823e-08 19 0Z"/>
                </g>
                </svg>
              </button>
            </section>
          </section>
        </div>

        <div id="scroll-buttons">
          <button id="left">
            <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14 2.5L30.5 19L14 35.5" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <button id="right">
            <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14 2.5L30.5 19L14 35.5" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
        <div class="ids__space XL"></div>
    </div>

    <div class="ids__wrapper.XXL full-screen" id="thirdBlock">
      <div class="ids__space XL"></div>
      <div class="section">
        <div class="ids__text-width">
          <h1>Not just feed. A&nbsp;culture.</h1>
          <p>Our posters celebrate the humor and spirit of ducks everywhere.<br>Collect them, share them, live with them.</p>
        </div>
        <ids-gallery>
          <figure>
            <a href="images\Duck_pics\Duck inc rebranding_1.png">
              <img src="images\Duck_pics\Duck inc rebranding_1.png" alt="Photo by Jan van der Wolf" />
            </a>
          </figure>
          <figure>
            <a href="images\Duck_pics\Duck inc rebranding_2.png">
              <img src="images\Duck_pics\Duck inc rebranding_2.png" alt="Photo by Mehmet Turgut Kirkgoz" />
            </a>
          </figure>
          <figure>
            <a href="images\Duck_pics\Duck inc rebranding_3.png">
              <img src="images\Duck_pics\Duck inc rebranding_3.png" alt="Photo by Jan van der Wolf" />
            </a>
          </figure>
        </ids-gallery>
      </div>
      <div class="ids__space XL"></div>
    </div>


      
      
      <div class="ids__wrapper" id="banner">
          <h1>Good feed makes good moods — for ducks and for you.</h1>
          <p>Shop Duck Inc. Today</p>
      </div>

    </main>

    <footer>
      <h1 id="footerH1">
        Duck Inc
      </h1>

      <section id="footer-top">

        <div>
          <a href="#productBlock">
            <span class="text top">
              <span>P</span>
              <span>r</span>
              <span>o</span>
              <span>d</span>
              <span>u</span>
              <span>c</span>
              <span>t</span>
              <span>s</span>
            </span>
            <span class="text bottom">
              <span>P</span>
              <span>r</span>
              <span>o</span>
              <span>d</span>
              <span>u</span>
              <span>c</span>
              <span>t</span>
              <span>s</span>
            </span>
          </a>
          <a href="#thirdBlock">
            <span class="text top">
              <span>P</span>
              <span>o</span>
              <span>s</span>
              <span>t</span>
              <span>e</span>
              <span>r</span>
              <span>s</span>
            </span>
            <span class="text bottom">
              <span>P</span>
              <span>o</span>
              <span>s</span>
              <span>t</span>
              <span>e</span>
              <span>r</span>
              <span>s</span>
            </span>
          </a>
          <a href="#fourthBlock">
            <span class="text top">
              <span>A</span>
              <span>b</span>
              <span>o</span>
              <span>u</span>
              <span>t</span>
            </span>
            <span class="text bottom">
              <span>A</span>
              <span>b</span>
              <span>o</span>
              <span>u</span>
              <span>t</span>
            </span>
          </a>
        
        </div>
  
        <div id="footer-icons">
          <svg class="footer-icon" width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M29.0168 3.0144H34.3581L22.6889 16.3516L36.4168 34.5005H25.668L17.2491 23.4933L7.61591 34.5005H2.27135L14.7528 20.2349L1.5835 3.0144H12.6053L20.2152 13.0754L29.0168 3.0144ZM27.1422 31.3035H30.1018L10.997 6.04353H7.82098L27.1422 31.3035Z"/>
          </svg>
  
          <svg class="footer-icon" width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M19 3.42148C24.0766 3.42148 24.6777 3.44375 26.6742 3.53281C28.5297 3.61445 29.5316 3.92617 30.1996 4.18594C31.0828 4.52734 31.7211 4.94297 32.3816 5.60352C33.0496 6.27148 33.4578 6.90234 33.7992 7.78555C34.059 8.45352 34.3707 9.46289 34.4523 11.3109C34.5414 13.3148 34.5637 13.916 34.5637 18.9852C34.5637 24.0617 34.5414 24.6629 34.4523 26.6594C34.3707 28.5148 34.059 29.5168 33.7992 30.1848C33.4578 31.068 33.0422 31.7063 32.3816 32.3668C31.7137 33.0348 31.0828 33.443 30.1996 33.7844C29.5316 34.0441 28.5223 34.3559 26.6742 34.4375C24.6703 34.5266 24.0691 34.5488 19 34.5488C13.9234 34.5488 13.3223 34.5266 11.3258 34.4375C9.47031 34.3559 8.46836 34.0441 7.80039 33.7844C6.91719 33.443 6.27891 33.0273 5.61836 32.3668C4.95039 31.6988 4.54219 31.068 4.20078 30.1848C3.94102 29.5168 3.6293 28.5074 3.54766 26.6594C3.45859 24.6555 3.43633 24.0543 3.43633 18.9852C3.43633 13.9086 3.45859 13.3074 3.54766 11.3109C3.6293 9.45547 3.94102 8.45352 4.20078 7.78555C4.54219 6.90234 4.95781 6.26406 5.61836 5.60352C6.28633 4.93555 6.91719 4.52734 7.80039 4.18594C8.46836 3.92617 9.47774 3.61445 11.3258 3.53281C13.3223 3.44375 13.9234 3.42148 19 3.42148ZM19 0C13.8418 0 13.1961 0.0222656 11.1699 0.111328C9.15117 0.200391 7.76328 0.526953 6.56094 0.994531C5.30664 1.48437 4.24531 2.13008 3.19141 3.19141C2.13008 4.24531 1.48438 5.30664 0.994531 6.55352C0.526953 7.76328 0.200391 9.14375 0.111328 11.1625C0.0222656 13.1961 0 13.8418 0 19C0 24.1582 0.0222656 24.8039 0.111328 26.8301C0.200391 28.8488 0.526953 30.2367 0.994531 31.4391C1.48438 32.6934 2.13008 33.7547 3.19141 34.8086C4.24531 35.8625 5.30664 36.5156 6.55352 36.998C7.76328 37.4656 9.14375 37.7922 11.1625 37.8812C13.1887 37.9703 13.8344 37.9926 18.9926 37.9926C24.1508 37.9926 24.7965 37.9703 26.8227 37.8812C28.8414 37.7922 30.2293 37.4656 31.4316 36.998C32.6785 36.5156 33.7398 35.8625 34.7938 34.8086C35.8477 33.7547 36.5008 32.6934 36.9832 31.4465C37.4508 30.2367 37.7773 28.8563 37.8664 26.8375C37.9555 24.8113 37.9777 24.1656 37.9777 19.0074C37.9777 13.8492 37.9555 13.2035 37.8664 11.1773C37.7773 9.15859 37.4508 7.7707 36.9832 6.56836C36.5156 5.30664 35.8699 4.24531 34.8086 3.19141C33.7547 2.1375 32.6934 1.48438 31.4465 1.00195C30.2367 0.534375 28.8563 0.207813 26.8375 0.11875C24.8039 0.0222656 24.1582 0 19 0Z"/>
          <path d="M19 9.24023C13.6117 9.24023 9.24023 13.6117 9.24023 19C9.24023 24.3883 13.6117 28.7598 19 28.7598C24.3883 28.7598 28.7598 24.3883 28.7598 19C28.7598 13.6117 24.3883 9.24023 19 9.24023ZM19 25.3309C15.5043 25.3309 12.6691 22.4957 12.6691 19C12.6691 15.5043 15.5043 12.6691 19 12.6691C22.4957 12.6691 25.3309 15.5043 25.3309 19C25.3309 22.4957 22.4957 25.3309 19 25.3309Z"/>
          <path d="M31.4242 8.8542C31.4242 10.1159 30.4 11.1327 29.1457 11.1327C27.884 11.1327 26.8672 10.1085 26.8672 8.8542C26.8672 7.59248 27.8914 6.57568 29.1457 6.57568C30.4 6.57568 31.4242 7.5999 31.4242 8.8542Z"/>
          </svg>
        </div>
      </section>


      <p id="copyright">Copyright © Duck Inc. 2025</p>
    </footer>


    <script src="./lib/photoswipe.umd.min.js"></script>
    <script src="./lib/photoswipe-lightbox.umd.min.js"></script>
    <script type="module">
      /**
       * @param {HTMLDivElement} node
       */
      const photoSwipeSize = (node) => {
        // get image tag inside of node
        if (node.hasAttribute("data-pswp-width") && node.hasAttribute("data-pswp-height")) {
          return;
        }
        /** @type {HTMLImageElement | null} */
        const img = node.querySelector("img");
        if (!img) {
          return;
        }
        let i = new Image();
        i.onload = () => {
          node.setAttribute("data-pswp-width", i.width.toString());
          node.setAttribute("data-pswp-height", i.height.toString());
        };
        i.src = img.src;
      };

      class IdsGallery extends HTMLElement {
        constructor() {
          super();
          this.classList.add("ids__gallery");
        }

        connectedCallback() {
          this.lightbox = new PhotoSwipeLightbox({
            gallery: this,
            children: "a",
            pswpModule: PhotoSwipe,
            padding: { top: 20, bottom: 40, left: 100, right: 100 },
          });

          this.lightbox.on("uiRegister", () => {
            if (!this.getAttribute("zoom") && this.lightbox?.pswp?.ui?.uiElementsData?.length) {
              this.lightbox.pswp.ui.uiElementsData = this.lightbox.pswp.ui.uiElementsData.filter((el) => el.name !== "zoom");
            }
          });

          this.lightbox.init();

          this.querySelectorAll("a").forEach(photoSwipeSize);
        }

        disconnectedCallback() {
          this.lightbox.destroy();
        }
      }

      window.customElements.define("ids-gallery", IdsGallery);
    </script>

    <script>
      let observer = new IntersectionObserver(
        (elements) => {
          elements.forEach((el) => {
            if (el.intersectionRatio > 0.3) {
              el.target.classList.remove("is-sleeping");
            } else {
              el.target.classList.add("is-sleeping");
            }
          });
        },
        { threshold: [0, 0.5] }
      );

      document.querySelectorAll(".ids__sleepy").forEach((el) => {
        observer.observe(el);
      });
    </script>
    <script>
      class IdsNavbar extends HTMLElement {
        static #items = [];
        static #instances = [];

        constructor() {
          super();
          this.classList.add("ids__navbar");
          this.render();
        }

        static updateItems() {
          // Сейчас оно будет запускаться слишком часто, нужно будет переделать
          this.#items = [...document.querySelectorAll(".ids__nav-item")];
          for (const instance of this.#instances) {
            instance.render();
          }
          this.updateCurrent();
        }

        static updateCurrent() {
          let highestTopPositionIndex = 0;
          for (let i = 0; i < this.#items.length; i++) {
            let { bottom, top } = this.#items[i].getBoundingClientRect() ?? {
              top: 0,
              bottom: 0,
            };
            let topPosition = (top + bottom) / 2;
            if (topPosition < 0) {
              highestTopPositionIndex = i;
            }
            if (topPosition >= 0 && topPosition < window.innerHeight / 2) {
              highestTopPositionIndex = i;
              break;
            }
          }
          let id = this.#items[highestTopPositionIndex].getAttribute("id");
          history.replaceState({}, "", `#${id}`);
          for (const instance of this.#instances) {
            for (const /** @type {HTMLElement} */ li of instance.querySelectorAll("li:has(a)")) {
              li.classList.toggle("current", li.firstElementChild.getAttribute("href") === "#" + id);
            }
          }
        }

        connectedCallback() {
          IdsNavbar.#instances.push(this);
        }

        disconnectedCallback() {
          IdsNavbar.#instances.splice(IdsNavbar.#instances.indexOf(this), 1);
        }

        render() {
          // Тут стоит делать через манипуляции с dom и не пересоздавать одни и те же записи по 100 раз
          this.innerHTML = `
            <ul>
                ${IdsNavbar.#items
                  .map(
                    (item) => `
                    <li>
                        <a href="#${item.getAttribute("id")}">
                            ${item.getAttribute("label")}
                        </a>
                    </li>
                `
                  )
                  .join("")}
            </ul>
          `;
        }
      }

      // TODO можно добавлять/убирать этот лисенер
      document.addEventListener("scroll", () => IdsNavbar.updateCurrent());

      class IdsNavItem extends HTMLElement {
        constructor() {
          super();
          this.classList.add("ids__nav-item");
        }

        connectedCallback() {
          IdsNavbar.updateItems();
        }
        disconnectedCallback() {
          IdsNavbar.updateItems();
        }
      }

      window.customElements.define("ids-navbar", IdsNavbar);
      window.customElements.define("ids-nav-item", IdsNavItem);
    </script>

    <!-- <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1/bundled/lenis.min.js"></script>
    <script>
      const lenis = new Lenis({
        duration: 1.2, // длительность "инерции"
        smoothWheel: true, // плавность для колёсика мыши
        smoothTouch: true  // плавность для тач-скролла
      })

      function raf(time) {
        lenis.raf(time)
        requestAnimationFrame(raf)
      }

      requestAnimationFrame(raf)
    </script> -->

    <script src="./htmlAnimations.js"></script>
  </body>
</html>
